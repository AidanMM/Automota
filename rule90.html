<html>
  <head>
    <style>
      body { margin:0; padding:0 }
    </style>
  </head>

  <body>
    <canvas></canvas>
  </body>
  
  <script src='setup.js'></script>
  <script src='automota.js'></script>
  <script>
  (function(){
  	Draw.init()
   	this.onload = init;
    	var colony;
	function init() {
		colony = OneDColony.create(Draw.canvas.width, Draw.canvas.height,Math.round(Draw.canvas.width / 10), Math.round(Draw.canvas.height / 10));
		colony.automota[5][0] = Automota.create(5,0);
		colony.automota[5][0].currentState = 1;
		colony.automota[5][0].nextState = 1;
		update();
	}
	function update() {
		var delay = 50;
		setTimeout(function(){
		requestAnimationFrame(update);	
		Draw.ctx.clearRect(0,0,Draw.canvas.width, Draw.canvas.height);
		colony.draw(Draw.ctx);
		colony.update();
		}, delay);
	}
  }());

  </script>

</html>
